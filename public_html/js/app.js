function ini(){iso(".container",".item",0)}function iso(e,t,a){var i=$(e),n=$(t);i.css("width",""),i=i.width(),t=n.first().innerWidth()+a,i=Math.max(Math.floor((i-a)/t),1),$(e).width(t*i+a);for(var o=[],r=[],s=0;s<i;s++)r.push(s*t+a),o.push(a);n.each(function(t){var i=o.slice(0).sort(function(e,t){return e-t}).shift();i=o.indexOf(i),e=r[i],s=o[i];var l=$($(n)[t]);l.css({left:e,top:s}),o[i]+=l.innerHeight()+a}),$(e).height(o.slice(0).sort(function(e,t){return e-t}).pop())}function getVisibleImagesWithRandomNotCurrent(){var e=[];return $homeItems.each(function(){var t=$(this);t.next(".hidden").length&&1!=t.attr("data-last")&&t.visible(!0)&&e.push(t)}),e}function initializeGoogleMaps(){if("undefined"!=typeof google){var e=new google.maps.LatLng(52.3994979,4.8410306),t={zoom:15,center:new google.maps.LatLng(52.3994979,4.8410306),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,mapTypeControl:!1,apiKey:"AIzaSyCVe3oMZf-LR9_Zop0inAAqttBbLBWHYRw",styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#c0e4f3"},{visibility:"on"}]}]},a=new google.maps.Map(document.getElementById("contact-map"),t),i=new google.maps.Marker({position:e,map:a,title:"Locatie Dutchlook"}),n=new google.maps.InfoWindow({content:'<b>DUTCHLOOK</b><br><br>Gyroscoopweg 66<br>1042 AC Amsterdam, <br>netherlands<br><br><a href="https://maps.google.com?saddr=Current+Location&daddr=Gyroscoopweg+66+1042+AC+Amsterdam+Netherlands" target="_blank" class="btn btn-default">Plan route &nbsp; â–¸</a>'});google.maps.event.addListener(i,"click",function(){n.open(a,i)})}}$(function(){ini()}),$(window).on("load",function(){ini()}),$(window).resize(function(){ini()});var controls={gutter:5},lastRandomizedImage=null,$homeItems=null;$(function(){$("#homeCarousel").carousel({interval:3500,cycle:!0}),$(".carousel-inner .item.active").trigger("click"),$(".mobile-button").click(function(){$("nav ul").slideToggle()}),$(".projectCategory").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0},removalDelay:300,mainClass:"mfp-fade"}),$(".carousel").addClass("loaded"),$("#contact-map").each(function(){initializeGoogleMaps()}),$(".projectCategory img").addClass("loaded"),$(".projectCategory.home").addClass("transition"),$homeItems=$(".projectCategory.home .item"),setInterval(function(){if(!$(".mfp-bg").length){var e=getVisibleImagesWithRandomNotCurrent();if(e.length){var t=Math.floor(Math.random()*e.length);$homeItems.removeAttr("data-last");var a=e[t].nextUntil(".item"),i=a.first();a.each(function(){$(this).attr("href",$(this).attr("data-url"))}),a.each(function(){if(1==$(this).attr("data-current"))return i=$(this).next(".hidden").length?$(this).next():e[t],!0}),i.attr("href",e[t].attr("data-url")),a.removeAttr("data-current"),i.hasClass("hidden")&&i.attr("data-current",1);var n=e[t].find("img:not(.switch)").attr("src");e[t].find(".switch").length?e[t].find(".switch").attr("src",n):e[t].find("img").before('<img src="'+n+'" class="switch">'),e[t].find(".switch").removeClass("hidden"),setTimeout(function(){e[t].find(".switch").addClass("fadeOut")}),setTimeout(function(){e[t].find(".switch").removeClass("fadeOut"),e[t].find(".switch").addClass("hidden")},1e3),e[t].find("img:not(.switch)").attr("src",i.attr("data-image")),e[t].attr("href",i.attr("data-url")),e[t].attr("data-last",1),setTimeout(ini,100)}}},2e3)});